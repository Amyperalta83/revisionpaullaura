<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Les r√©visions de Paul & Laura</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fdfdfd;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #364f6b;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    nav {
      background-color: #f0f0f0;
      padding: 1rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }
    nav a {
      text-decoration: none;
      color: #364f6b;
      font-weight: bold;
    }
    main {
      padding: 2rem;
    }
    .card {
      border: 1px solid #ccc;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 10px;
      background-color: #fff;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .card p {
      margin: 0.5rem 0;
    }
    button {
      padding: 0.5rem 1rem;
      margin-top: 0.5rem;
      margin-right: 0.5rem;
      border: none;
      background-color: #3f72af;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    .hidden {
      display: none;
    }
    .selector {
      margin: 1rem 0;
    }
    .progress {
      margin-top: 1rem;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>Les r√©visions de Paul & Laura</h1>
    <p>Un espace interactif pour r√©viser avec plaisir ‚ú®</p>
  </header>
  <main>
    <section>
      <h2>üß† Entra√Ænements interactifs</h2>
      <div class="selector">
        <label for="themeSelect">Choisir un th√®me :</label>
        <select id="themeSelect" onchange="startTheme(this.value)">
          <option value="">-- Choisir --</option>
        </select>
      </div>
      <div id="flashcardContainer"></div>
      <div class="progress" id="progress"></div>
    </section>
  </main>
  <script>
    const cardsByTheme = {
      "grammaire": [
        {"question":"Quel est le COD dans : Elle a offert un cadeau √† son fr√®re ?","answer":"un cadeau","rule":"Le COD est ce qui subit directement l‚Äôaction du verbe."},
        {"question":"Quel est le sujet dans : Paul cuisine un g√¢teau ?","answer":"Paul","rule":"Le sujet est celui qui fait l‚Äôaction du verbe."},
        {"question":"Quel est le compl√©ment circonstanciel dans : Il mange vite le matin ?","answer":"le matin","rule":"Un compl√©ment circonstanciel pr√©cise le lieu, le temps, la mani√®re..."},
        {"question":"Quelle est la nature de 'vite' ?","answer":"Adverbe","rule":"Un adverbe modifie un verbe, un adjectif ou un autre adverbe."},
        {"question":"Dans la phrase : 'Elle s'endort tard', quelle est la fonction de 'tard' ?","answer":"Compl√©ment circonstanciel de temps","rule":"Il pr√©cise quand l‚Äôaction se d√©roule."},
        {"question":"Quel est le COI dans : Elle parle √† son fr√®re ?","answer":"√† son fr√®re","rule":"Le COI est introduit par une pr√©position et compl√®te le verbe."},
        {"question":"Quelle est la fonction de 'avec Paul' dans : Elle travaille avec Paul ?","answer":"Compl√©ment circonstanciel de mani√®re","rule":"Il exprime la mani√®re dont l‚Äôaction est r√©alis√©e."},
        {"question":"Quelle est la nature de 'rapidement' dans : Il court rapidement ?","answer":"Adverbe","rule":"L‚Äôadverbe modifie le verbe 'court'."},
        {"question":"Quelle est la fonction de 'le chien' dans : Marie nourrit le chien ?","answer":"COD","rule":"C‚Äôest ce qui subit l‚Äôaction de nourrir."}
      ],
      "orthographe": [
        {"question":"Choisis la bonne orthographe : a / √†","answer":"Il a un chien. Il va √† l'√©cole.","rule":"'a' est un verbe, '√†' est une pr√©position."},
        {"question":"Trouve l‚Äôerreur : Elle cest lever tard ce matin.","answer":"Elle s'est lev√©e tard ce matin.","rule":"L'accord du participe pass√© avec l'auxiliaire √™tre."},
        {"question":"Quel est le pluriel de 'bijou' ?","answer":"bijoux","rule":"Certains noms finissant par -ou prennent un x au pluriel."},
        {"question":"Choisis entre et/est : Il ___ tr√®s gentil ___ attentionn√©.","answer":"est, et","rule":"'est' = verbe √™tre, 'et' = conjonction de coordination."},
        {"question":"Quel mot est mal orthographi√© : 'japponais' ?","answer":"japonais","rule":"Attention aux consonnes doubl√©es √† tort."},
        {"question":"Compl√®te avec 'ces' ou 'ses' : ___ chaussures sont neuves.","answer":"Ces","rule":"'Ces' d√©signe quelque chose, 'ses' est possessif."},
        {"question":"Accorde correctement : Des chapeaux (blanc) ?","answer":"blancs","rule":"Accord en genre et en nombre avec le nom."}
      ],
      "conjugaison": [
        {"question":"Conjugue 'finir' au pr√©sent avec 'nous' :","answer":"nous finissons","rule":"Verbe du 2e groupe, terminaisons r√©guli√®res : -issons."},
        {"question":"Accord au pass√© compos√© : Elles sont (partir) ?","answer":"parties","rule":"Avec √™tre, le participe pass√© s'accorde avec le sujet."},
        {"question":"Conjugue 'avoir' √† l'imparfait, 3e personne du pluriel :","answer":"ils avaient","rule":"L‚Äôimparfait prend -aient √† la 3e personne du pluriel."},
        {"question":"Futur simple, verbe 'venir', tu :","answer":"tu viendras","rule":"Les verbes irr√©guliers conservent leur radical modifi√©."},
        {"question":"Conditionnel pr√©sent, verbe '√™tre', nous :","answer":"nous serions","rule":"Radical du futur + terminaisons de l‚Äôimparfait."},
        {"question":"Pr√©sent du subjonctif, verbe 'savoir', il :","answer":"qu‚Äôil sache","rule":"Le subjonctif a ses propres conjugaisons."},
        {"question":"Imparfait, verbe 'lancer', vous :","answer":"vous lanciez","rule":"Attention aux conjugaisons avec -cer au pass√©."}
      ],
      "vocabulaire": [
        {"question":"Quel est le synonyme de 'joyeux' ?","answer":"heureux, content, enjou√©","rule":"Les synonymes enrichissent le vocabulaire."},
        {"question":"Trouve le mot familier pour 'automobile'","answer":"bagnole","rule":"Le registre familier est souvent utilis√© √† l‚Äôoral."},
        {"question":"Quel est l‚Äôoppos√© de 'sale' ?","answer":"propre","rule":"Antonymes : mots de sens contraires."},
        {"question":"Quel est le champ lexical de l‚Äô√©cole ?","answer":"instituteur, tableau, cartable, r√©cr√©ation","rule":"Un champ lexical regroupe les mots li√©s √† un m√™me th√®me."},
        {"question":"Compl√®te avec un mot de liaison : 'Il a r√©vis√©, ___ il a r√©ussi.'","answer":"donc","rule":"Les connecteurs logiques montrent le lien entre les id√©es."},
        {"question":"Quel est le registre de langue de 'se casser' ?","answer":"familier","rule":"C‚Äôest une expression du registre familier."},
        {"question":"Quel est le paronyme de 'collision' ?","answer":"collusion","rule":"Les paronymes sont des mots proches mais diff√©rents."}
      ]
    };

    let currentTheme = "";
    let currentIndex = 0;
    let correctCount = 0;

    window.onload = () => {
      const themeSelect = document.getElementById("themeSelect");
      Object.keys(cardsByTheme).forEach(theme => {
        const option = document.createElement("option");
        option.value = theme;
        option.textContent = theme.charAt(0).toUpperCase() + theme.slice(1);
        themeSelect.appendChild(option);
      });
    };

    function startTheme(theme) {
      if (!theme || !cardsByTheme[theme]) return;
      currentTheme = theme;
      currentIndex = 0;
      correctCount = 0;
      showCard();
    }

    function showCard() {
      const cards = cardsByTheme[currentTheme];
      if (currentIndex >= cards.length) {
        document.getElementById("flashcardContainer").innerHTML = `<div class='card'><p>üéâ Bravo ! Tu as termin√© la s√©rie <strong>${currentTheme}</strong>.</p><p>Score : ${correctCount}/${cards.length}</p><p>${getMessage(correctCount, cards.length)}</p></div>`;
        document.getElementById("progress").textContent = "";
        return;
      }

      const card = cards[currentIndex];
      document.getElementById("flashcardContainer").innerHTML = `
        <div class='card'>
          <p><strong>Question :</strong> ${card.question}</p>
          <button onclick='showAnswer()'>Afficher la r√©ponse</button>
          <div id='answer' class='hidden'>
            <p><strong>R√©ponse :</strong> ${card.answer}</p>
            <p><strong>R√®gle :</strong> ${card.rule}</p>
            <button onclick='nextCard(true)'>Je ma√Ætrise</button>
            <button onclick='nextCard(false)'>√Ä revoir</button>
          </div>
        </div>
      `;
      document.getElementById("progress").textContent = `Carte ${currentIndex + 1} / ${cards.length}`;
    }

    function showAnswer() {
      document.getElementById("answer").classList.remove("hidden");
    }

    function nextCard(mastered) {
      if (mastered) correctCount++;
      currentIndex++;
      showCard();
    }

    function getMessage(score, total) {
      const ratio = score / total;
      if (ratio === 1) return "Tu es un¬∑e boss üí™‚ú® !";
      if (ratio >= 0.75) return "Super travail, presque parfait ! üåü";
      if (ratio >= 0.5) return "Pas mal ! Continue comme √ßa üí°";
      return "Courage ! Tu progresses √† ton rythme üå±";
    }
  </script>
</body>
</html>
