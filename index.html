<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Les r√©visions de Paul & Laura</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fdfdfd;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #364f6b;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    nav {
      background-color: #f0f0f0;
      padding: 1rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }
    nav a {
      text-decoration: none;
      color: #364f6b;
      font-weight: bold;
    }
    main {
      padding: 2rem;
    }
    .card {
      border: 1px solid #ccc;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 10px;
      background-color: #fff;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .card p {
      margin: 0.5rem 0;
    }
    button {
      padding: 0.5rem 1rem;
      margin-top: 0.5rem;
      border: none;
      background-color: #3f72af;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    .hidden {
      display: none;
    }
    .selector {
      margin: 1rem 0;
    }
    .progress {
      margin-top: 1rem;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>Les r√©visions de Paul & Laura</h1>
    <p>Un espace interactif pour r√©viser avec plaisir ‚ú®</p>
  </header>
  <main>
    <section>
      <h2>üß† Entra√Ænements interactifs</h2>
      <div class="selector">
        <label for="themeSelect">Choisir un th√®me :</label>
        <select id="themeSelect" onchange="startTheme(this.value)">
          <option value="">-- Choisir --</option>
          <option value="orthographe">Orthographe</option>
          <option value="grammaire">Grammaire</option>
        </select>
      </div>
      <div id="flashcardContainer"></div>
      <div class="progress" id="progress"></div>
    </section>
  </main>
  <script>
    const cardsByTheme = {
      orthographe: [
        {
          question: "Les pommes que j‚Äôai mang√© √©taient d√©licieuses.",
          answer: "Les pommes que j‚Äôai mang√©es √©taient d√©licieuses.",
          rule: "Avec 'avoir', accord avec le COD si plac√© avant le verbe."
        },
        {
          question: "Phrase √† corriger : Il a laiss√©e tomber la bo√Æte.",
          answer: "Il a laiss√© tomber la bo√Æte.",
          rule: "Avec 'laisser', le participe pass√© reste invariable."
        }
      ],
      grammaire: [
        {
          question: "Quel est le COD dans : Elle a offert un cadeau √† son fr√®re ?",
          answer: "un cadeau",
          rule: "Le COD est ce qui subit directement l‚Äôaction du verbe."
        },
        {
          question: "Vrai ou faux : 'Elle s‚Äôest lav√©e les mains' prend un e ?",
          answer: "Faux",
          rule: "Le COD 'les mains' est apr√®s le verbe : pas d'accord."
        }
      ]
    };

    let currentTheme = "";
    let currentIndex = 0;
    let correctCount = 0;

    function startTheme(theme) {
      if (!theme || !cardsByTheme[theme]) return;
      currentTheme = theme;
      currentIndex = 0;
      correctCount = 0;
      showCard();
    }

    function showCard() {
      const cards = cardsByTheme[currentTheme];
      if (currentIndex >= cards.length) {
        document.getElementById("flashcardContainer").innerHTML = `<div class='card'><p>üéâ Bravo ! Tu as termin√© la s√©rie <strong>${currentTheme}</strong>.</p><p>Score : ${correctCount}/${cards.length}</p><p>${getMessage(correctCount, cards.length)}</p></div>`;
        document.getElementById("progress").textContent = "";
        return;
      }

      const card = cards[currentIndex];
      document.getElementById("flashcardContainer").innerHTML = `
        <div class='card'>
          <p><strong>Question :</strong> ${card.question}</p>
          <button onclick='showAnswer()'>Afficher la r√©ponse</button>
          <div id='answer' class='hidden'>
            <p><strong>R√©ponse :</strong> ${card.answer}</p>
            <p><strong>R√®gle :</strong> ${card.rule}</p>
            <button onclick='nextCard(true)'>Je ma√Ætrise</button>
            <button onclick='nextCard(false)'>√Ä revoir</button>
          </div>
        </div>
      `;
      document.getElementById("progress").textContent = `Carte ${currentIndex + 1} / ${cards.length}`;
    }

    function showAnswer() {
      document.getElementById("answer").classList.remove("hidden");
    }

    function nextCard(mastered) {
      if (mastered) correctCount++;
      currentIndex++;
      showCard();
    }

    function getMessage(score, total) {
      const ratio = score / total;
      if (ratio === 1) return "Tu es un¬∑e boss üí™‚ú® !";
      if (ratio >= 0.75) return "Super travail, presque parfait ! üåü";
      if (ratio >= 0.5) return "Pas mal ! Continue comme √ßa üí°";
      return "Courage ! Tu progresses √† ton rythme üå±";
    }
  </script>
</body>
</html>
